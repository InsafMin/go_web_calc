# Go Web Calculator

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Go Web Calculator ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ **Go**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON-–∑–∞–ø—Ä–æ—Å—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤ –≤–∏–¥–µ HTTP-–æ—Ç–≤–µ—Ç–∞.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ —Ç. –¥.
___
## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
1.	**–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
2.	**–û—à–∏–±–∫–∏ 404**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –º–∞—Ä—à—Ä—É—Ç—É.
3.	**–û—à–∏–±–∫–∏ 422**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–∏.
4.  **–û—à–∏–±–∫–∏ 500**: –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
5.  **–ú–µ—Ç–æ–¥ POST**: –¢–æ–ª—å–∫–æ HTTP-–º–µ—Ç–æ–¥ POST –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è /api/v1/calculate.
6.  **–õ–æ–≥–∏**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
___
## API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –≠–Ω–¥–ø–æ–∏–Ω—Ç /api/v1/calculate

**–ú–µ—Ç–æ–¥**: POST\
**–û–ø–∏—Å–∞–Ω–∏–µ**: –í—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

#### –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
```json
{
"expression": "2+3*4"
}
```

#### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

##### 1. –£—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```text
result: 14.000000
```

##### 2. –û—à–∏–±–∫–∏ (422):

–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ —Å—Ç–∞—Ç—É—Å 422.
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã:
```text
error: unacceptable symbol
```

- –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å:
```text
error: division by zero
```

- –õ–∏—à–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä:
```text
error: extra operator
```

- –õ–∏—à–Ω—è—è –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞:
```text
error: extra open bracket
```

- –õ–∏—à–Ω—è—è –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞:
```text
error: extra close bracket
```

##### 3. –ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:
```text
error: Unacceptable method
```

##### 4. –û—à–∏–±–∫–∞ 404:
–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Å–¥–µ–ª–∞–Ω –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—É—Ç—å:
```text
404 page not found
```
___
## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Go** –≤–µ—Ä—Å–∏–∏ 1.18 –∏–ª–∏ –≤—ã—à–µ\
- **Git** –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è\
- **Internet** –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 2. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
#### 1.	–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/InsafMin/go_web_calc.git
cd go_web_calc
```

#### 2.	–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞:
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080. –î–ª—è —Å–º–µ–Ω—ã –ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è PORT:
```bash
export PORT=8000
```

#### 3.	–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
go run ./cmd
```
–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞, –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```text
starting server on port: 8000
```

#### 4.	–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl, Postman –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π HTTP-–∫–ª–∏–µ–Ω—Ç.
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```bash
curl --location 'http://0.0.0.0:8000/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
    "expression": "2+3*4"
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```text
result: 14.000000
```

#### 5.	–û—à–∏–±–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

- –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å:
```bash
curl --location 'http://0.0.0.0:8000/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
    "expression": "1/0"
}'
```

–û—Ç–≤–µ—Ç:
```text
error: division by zero
```

- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–∏–º–≤–æ–ª:
```bash
curl --location 'http://0.0.0.0:8000/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data-raw '{
    "expression": "2@3"
}'
```

- –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:
```bash
curl --location 'http://0.0.0.0:8000/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
    "expression": ""
}'
```

–û—Ç–≤–µ—Ç:
```text
error: invalid expression
```

#### 6.	–ó–∞–ø—Ä–æ—Å –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–∞—Ä—à—Ä—É—Ç:
```bash
curl --location 'http://0.0.0.0:8000/unknown' \
--header 'Content-Type: application/json' \
--data-raw '{
    "expression": "2@3"
}'
```

–û—Ç–≤–µ—Ç:
```text
404 page not found
```
___
## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
1.	–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.
2.	–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
go test ./...
```

3.	–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
```text
?       github.com/InsafMin/go_web_calc/cmd     [no test files]
ok      github.com/InsafMin/go_web_calc/internal/application    0.203s
ok      github.com/InsafMin/go_web_calc/pkg/calculator  0.355s
```
___
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
go_web_calc/
‚îÇ
‚îú‚îÄ‚îÄ cmd/                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ main.go
‚îÇ
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îú‚îÄ‚îÄ calculator/        # –õ–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculator.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculator_test.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors.go
‚îÇ
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îî‚îÄ‚îÄ application/       # HTTP-—Å–µ—Ä–≤–µ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ application.go
‚îÇ       ‚îî‚îÄ‚îÄ application_test.go
‚îÇ
‚îî‚îÄ‚îÄ go.mod                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```
___
## –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫ –∏ –∏—Ö –ø—Ä–∏—á–∏–Ω—ã

| **–û—à–∏–±–∫–∞**                  | **–ü—Ä–∏–º–µ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏—è** | **–ü—Ä–∏—á–∏–Ω–∞**                        |
|-----------------------------|----------------------|------------------------------------|
| `–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å`           | `1/0`                | –ü–æ–ø—ã—Ç–∫–∞ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 0.              |
| `–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–∏–º–≤–æ–ª`       | `2@3`                | –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–∏–º–≤–æ–ª `@`.|
| `–ª–∏—à–Ω—è—è –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞` | `2*(3+4))`           | –õ–∏—à–Ω—è—è –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞ `)`.     |
| `–ª–∏—à–Ω—è—è –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞` | `(2+3`               | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞ `)`.|
| `–ª–∏—à–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä`           | `2++3`               | –î–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ–¥—Ä—è–¥ (`++`).       |
| `–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ`    | ` `                  | –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞ –Ω–∞ –≤—Ö–æ–¥.    |
___
## –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–í—Å–µ –æ—à–∏–±–∫–∏ –∏ —É—Å–ø–µ—à–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏. –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:
```text
2024/12/17 16:57:46 starting server on port: 8000
2024/12/17 16:57:48 Expression: 2+3*4 --- result: 14.000000
2024/12/17 16:57:54 Calculating error: division by zero
```
___
## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å:

‚Ä¢	**Email**: [insaf.min.in@yandex.ru](mailto:insaf.min.in@yandex.ru)\
‚Ä¢	**Telegram**: [@Insaf_Min](https://t.me/Insaf_Min)
___
–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Go Web Calculator! üöÄ